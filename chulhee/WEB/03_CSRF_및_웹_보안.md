# CSRF, XSS, SQL Injection 등 웹 취약점 공격



## XSS

> Cross Site Scripting

웹 어플리케이션에서 많이 나타나는 취약점 중 하나입니다.

웹 사이트 관리자가 아닌 공격자가 웹페이지에 악성 스크립트를 삽입할 수 있는 약점입니다.

사용자가 입력한 값을 제대로 검사하지 않아 악성 스크립트가 실행되는 형태가 주를 이룹니다.

이를 통해 공격자는 사용자의 정보(쿠키)를 탈취할 수 있습니다.



### 종류

- Stored XSS

  - 일반적인 XSS 공격 유형
  - 사용자가 사이트 이용중, 공격자가 입력해둔 악성 스크립트가 실행됩니다.

  

- Reflected XSS

  - 일반적인 피싱 공격
  - URL 파라미터에 스크립트를 넣어 서버에 저장하지 않고 즉시 스크립트를 만드는 방식입니다.
  - 사용자가 게시물 조회를 요청 할 때 
    서버가 해당 요청에 대하여 조회 한 결과를 응답에 출력하며, 사용자가 조회한 내용을 응답에 포함시킵니다.



### 대응 방안

- 쿠키에 중요한 정보를 담지 않거나, 갱신
- javascript - httponly 속성을 통해 `document.cookie` 를 통해 쿠키에 접근을 막을 수 있습니다.





## CSRF

> Cross Site Request Forgery
> 공격자가 의도한 행위를 이를 의도하지 않은 사용자가 하도록 만드는 공격입니다.

csrf 공격을 통해 공격자가 얻을 수 있는 이득은 **세션 쿠키를 가진 사람만 사용할 수 있는 기능을 요청할 수 있다**는 것입니다.



### 공격 방식

1. 사용자의 세션 정보에 해당하는 쿠키 값이 브라우저에 저장된 상태
2. 사용자의 인증 정보를 활용한 악의적 스크립트 실행
3. 서버는 사용자의 요청으로 착각, 구분하지 못하고 실행



### 방어

- CSRF Token 을 사용합니다.
  - 서버 백엔드에서 요청을 받을 때마다 세션에 저장된 토큰 값과 요청 파라미터에 전달되는 토큰 값이 일치하는지 검증하게 됩니다.
  - CSRF Token은 임의의 난수를 생성하고 세션에 저장합니다.
  - 그리고 사용자의 매 요청마다 해당 난수 값을 포함시켜서 전송합니다.
  - 이후 백엔드에서 요청마다 세션에 저장된 토큰값과 요청 파라미터에 전달된 토큰 값이 같은지 검사한다.







## 레퍼런스

- [https://un1c0n.tistory.com/entry/웹-취약점공격기법-정리](https://un1c0n.tistory.com/entry/%EC%9B%B9-%EC%B7%A8%EC%95%BD%EC%A0%90%EA%B3%B5%EA%B2%A9%EA%B8%B0%EB%B2%95-%EC%A0%95%EB%A6%AC)
- https://program-developer.tistory.com/99
- 



## 추가 공부할 사항

- 암호화 방식



## 질문할 키워드

